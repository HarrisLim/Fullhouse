<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
	<mapper namespace="com.team.station4.map">
		
		<resultMap id="mapResult" type="Build">
			<result property="build_no" column="BUILD_NO" />
			<result property="address" column="ADDRESS"/>
			<result property="protype" column="PROTYPE" />
			<result property="wholeFloor" column="WHOLEFLOOR" />
			<result property="floor" column="FLOOR" />
			<result property="jArea" column="JAREA" />
			<result property="gArea" column="GAREA" />
			<result property="view_count" column="VIEW_COUNT" />
			<result property="picPath" column="PICPATH" />
			<result property="reservation_time" column="RESERVATION_TIME" />
			<result property="lat" column="LAT" />
			<result property="lng" column="LNG" />
			<result property="bu_rdate" column="BU_RDATE" />
			<result property="st_no" column="ST_NO" />
			<result property="estate_no" column="ESTATE_NO" />
			<result property="mem_no" column="MEM_NO" />
			<result property="addInfo_no" column="ADDINFO_NO" />
			<result property="explan_no" column="EXPLAN_NO" />

		</resultMap>
	
		<select id="mySelect" parameterType="HashMap" resultType="Build"> 
			select * from (select A.*, ROWNUM rn from (select * from BUILDING order by BUILD_NO desc)A) where rn between #{start} and #{last}
		</select>
		
		<select id="myCountPage" resultType="int" >
			select count(*) from BUILDING
		</select>
		
		<select id="myLocation" resultType="Map">
			select LAT, LNG from BUILDING
		</select>
		
		<select id="myLatLng" parameterType="HashMap" resultType="Build">
			select LAT, LNG from BUILDING where ADDRESS like '%'||#{서울}||'%'
		</select>
		
		<insert id="myInjection" parameterType="Build">
			insert into BUILDING values
			(BUILD_NO_SEQ.nextval, #{address}, #{protype}, #{wholeFloor}, #{floor}, #{jArea}, #{gArea}, #{view_count}, #{picPath}, 
			#{reservation_time}, #{lat}, #{lng}, #{bu_rdate}, #{st_no}, #{estate_no}, #{mem_no}, #{addInfo_no}, #{explan_no})
		</insert>
		
		
		

	</mapper>